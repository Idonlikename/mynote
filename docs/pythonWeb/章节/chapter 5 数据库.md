# 第五章

## SQL

**结构化查询语言**(Structured Query Language，`SQL`)专门为了数据库查询而设计，用于存取数据，查询、更新和管理数据库。

`SQL`数据库通常是一种**关系型数据库**，这种数据库通常会将数据存储在一个个数据表(表格)中，数据表的每一个字段(表格列)都是团定的，每一个对象的数据都映射到数据表的每一条记录(表格行)中。

提供用户注册、文章发布等功能的网站都需要存储数据，在需要存储数据的情况下便需要使用数据库。通常情况下，数据库将按照一定规则来存储数据，这些规则使得数据变得规范化相较于文件、目录方式存储更便于管理，且大部分的主流数据库在Flask中都具备完善的解决方案。

### `ORM`

`ORM`全称为Object Relational Mapping，即 **对象关系映射**

`ORM`诞生的前提：

在实操中，我们为实现一个`Web`的功能需求就需要为这个需求编写一条`SQL`语句，但实际的项目中模块多，需求量大。假如每个模块都与一个数据表关联，我们则需要为每一个模块编写多条`SQL`语句，这不便于我们进行维护，且工程量大。

于是为了减少`SQL`的编写量且为了维护，我们使用Python对这些`SQL`语句**进行封装**并将其**作为函数使用**。这种方法虽然减少了`SQL`语句的编写量，却**不便于进行复杂操作**，且**存在安全性问题**。容易被`SQL`注入

**`SQL注入`**是一种常见且危险的**网络攻击方式**，攻击者通过在用户**输入字段中插入恶意代码**，**欺骗数据库执行`SQL`命令**，从而窃取、篡改或破坏敏感数据。

这时，使用对象关系映射(Object Relational Mapping，`ORM`)框架可以很好地解决这个问题。

`ORM`框架可以将**数据映射到对象当中**，且对`SQL`语句的生成进行了高度的封装，能满足绝大部分的常见需求，要实现数据的增、删、改、查，仅需操作相应对象的属性即可。

Flask当中的`Flask-SQLAlchemy`即为一`ORM`框架

## Flask-Script

Flask-Script是一个命令行操作的扩展模块，可以在命令行中启动相应的功能



## Flask-SQLAlchemy

## Flask-Migrate